(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,t,a){e.exports=a.p+"static/media/android-chrome-512x512.32c02d83.png"},284:function(e,t,a){e.exports=a(537)},289:function(e,t,a){},537:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),l=(a(289),a(17)),s=a(18),c=a(21),u=a(20),d=a(22),p=a(71),m=a(213),h=a(5),g=a.n(h),f=a(16),b=a(113),v=a.n(b),y=a(115),C=a.n(y),S=a(114),E=a.n(S),w=a(52),k=a.n(w),j=a(53),x=a.n(j),O=a(33),B=a.n(O),_=a(116),N=a.n(_),P=a(28),F=a.n(P),T=a(229),R=a.n(T),W=a(230),M=a.n(W),A=a(104),D=a.n(A),L=a(215),I=a.n(L),V=a(103),U=a.n(V),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).queue=[],a.state={open:!1,messageInfo:{}},a.createMessage=function(e,t){return e?r.a.createElement("div",{className:a.classes.wraploadingmsg},r.a.createElement(U.a,{className:a.classes.progress}),r.a.createElement("p",null,t)):t},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.open,a=this.props.message,n=this.props.handleClose,i=this.props.loading;this.classes=e;var o=this.createMessage(i,a);return r.a.createElement("div",null,r.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:2e3,onClose:n,onExited:this.handleExited,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},o),action:[r.a.createElement(F.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:n},r.a.createElement(I.a,null))]}))}}]),t}(r.a.Component),G=Object(f.withStyles)(function(e){return{close:{padding:e.spacing.unit/2},progress:{margin:e.spacing.unit},wraploadingmsg:{display:"flex"}}})(z),q=a(216),H=a.n(q),Y=a(46),J=a.n(Y),X=a(56),$=a.n(X),K=a(57),Q=a.n(K),Z=a(223),ee=a.n(Z),te=a(228),ae=a.n(te),ne=a(225),re=a.n(ne),ie=a(226),oe=a.n(ie),le=a(227),se=a.n(le),ce=a(112),ue=a.n(ce),de=a(224),pe=a.n(de),me=a(36),he=a(107),ge=a.n(he),fe=a(108),be=a.n(fe),ve=a(27),ye=a.n(ve),Ce=a(109),Se=a.n(Ce),Ee=a(55),we=a.n(Ee),ke=a(39),je=a.n(ke),xe=a(68),Oe=a.n(xe),Be=a(220),_e=a.n(Be),Ne=a(221),Pe=a.n(Ne),Fe=a(8),Te=a(54),Re=a.n(Te),We=a(217),Me=a.n(We),Ae=a(218),De=a.n(Ae),Le=a(45),Ie=Object(f.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Le.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(function(e){var t=e.selected,a=e.classes,n=e.handleDeleteClick;return r.a.createElement(k.a,{className:g()(a.root,Object(p.a)({},a.highlight,t.length>0))},r.a.createElement("div",{className:a.title},t.length>0?r.a.createElement(B.a,{color:"inherit",variant:"subtitle1"},t.length," selected"):r.a.createElement(B.a,{variant:"h6",id:"tableTitle"},"Data Series")),r.a.createElement("div",{className:a.spacer}),r.a.createElement("div",{className:a.actions},t.length>0?r.a.createElement(Re.a,{title:"Delete"},r.a.createElement(F.a,{"aria-label":"Delete",onClick:function(a){return n(t,e.store)}},r.a.createElement(Me.a,null))):r.a.createElement(Re.a,{title:"Filter list"},r.a.createElement(F.a,{"aria-label":"Filter list"},r.a.createElement(De.a,null)))))}),Ve=a(105),Ue=a.n(Ve),ze=a(106),Ge=a.n(ze),qe=[{id:"tag",numeric:!1,disablePadding:!0,label:"TAG"},{id:"custom",numeric:!1,disablePadding:!0,label:"Customize"},{id:"faults",numeric:!1,disablePadding:!0,label:"Fault Edited"},{id:"download",numeric:!1,disablePadding:!0,label:"Download"},{id:"min",numeric:!1,disablePadding:!0,label:"Min."},{id:"max",numeric:!1,disablePadding:!0,label:"Max."},{id:"size",numeric:!1,disablePadding:!0,label:"Size"}],He=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,o=t.numSelected,l=t.rowCount;return r.a.createElement(Ue.a,null,r.a.createElement(we.a,null,r.a.createElement(ye.a,{padding:"checkbox"},r.a.createElement(Oe.a,{indeterminate:o>0&&o<l,checked:o===l,onChange:a})),qe.map(function(t){return r.a.createElement(ye.a,{key:t.id,sortDirection:i===t.id&&n},r.a.createElement(Re.a,{title:"Sort",enterDelay:300},r.a.createElement(Ge.a,{active:i===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),Ye=Object(Fe.inject)("store")(Object(Fe.observer)(He)),Je=a(219),Xe=a.n(Je);function $e(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"calories",selected:[],page:0,rowsPerPage:5},a.handleDeleteClick=function(e,t){a.props.store.store.handleDeleteTableClick(e),a.setState({selected:[]})},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e){if(e.target.checked){var t=a.props.store.store.formattedTableData;a.setState(function(e){return{selected:t.map(function(e){return e.id})}})}else a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,r=n.indexOf(t),i=[];-1===r?i=i.concat(n,t):0===r?i=i.concat(n.slice(1)):r===n.length-1?i=i.concat(n.slice(0,-1)):r>0&&(i=i.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:i})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.handleDownload=function(e,t){var n=a.series.filter(function(e){return e.id===t})[0];Xe()(n.values,"data.csv","text/plain")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.router,a=this.props.store.store,n=a.series,i=this.props.classes,o=this.state,l=o.order,s=o.orderBy,c=o.selected,u=o.rowsPerPage,d=o.page,p=a.formattedTableData,m=u-Math.min(u,p.length-d*u);return this.series=n,r.a.createElement(je.a,{className:i.root},r.a.createElement(Ie,{selected:c,handleDeleteClick:this.handleDeleteClick}),r.a.createElement("div",{className:i.tableWrapper},r.a.createElement(ge.a,{className:i.table,"aria-labelledby":"tableTitle"},r.a.createElement(Ye,{numSelected:c.length,order:l,orderBy:s,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(be.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(p,function(e,t){return"desc"===e?function(e,a){return $e(e,a,t)}:function(e,a){return-$e(e,a,t)}}(l,s)).slice(d*u,d*u+u).map(function(n){var i=e.isSelected(n.id);return r.a.createElement(we.a,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,key:n.id,selected:i},r.a.createElement(ye.a,{padding:"checkbox",onClick:function(t){return e.handleClick(t,n.id)}},r.a.createElement(Oe.a,{checked:i})),r.a.createElement(ye.a,{component:"th",scope:"row",padding:"none"},n.name),r.a.createElement(ye.a,{onClick:function(){return t.goTo(Ut.series,{id:n.id},a)}},r.a.createElement(F.a,{"aria-label":"Edit"},r.a.createElement(_e.a,null))),r.a.createElement(ye.a,null,n.fault?"Yes":"No"),r.a.createElement(ye.a,{onClick:function(t){return e.handleDownload(t,n.id)}},r.a.createElement(F.a,{"aria-label":"Download"},r.a.createElement(Pe.a,null))),r.a.createElement(ye.a,null,n.min),r.a.createElement(ye.a,null,n.max),r.a.createElement(ye.a,null,n.size))}),m>0&&r.a.createElement(we.a,{style:{height:49*m}},r.a.createElement(ye.a,{colSpan:6}))))),r.a.createElement(Se.a,{rowsPerPageOptions:[5,10,25],component:"div",count:p.length,rowsPerPage:u,page:d,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),Qe=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{}}})(Ke),Ze=Object(Fe.inject)("store")(Object(Fe.observer)(Qe)),et=a(29),tt=a(25),at=a.n(tt),nt=a(110),rt=a.n(nt),it=a(111),ot=a.n(it),lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleFaultConfig=function(e){var t=e.target.value,n={value:parseFloat(t)};a.dataStore.handleFaultConfig(n)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.dataStore=this.props.store.store,r.a.createElement("form",{className:""},r.a.createElement(at.a,{id:"outlined-number",label:"Value",value:this.dataStore.faultConfig.value,onChange:this.handleFaultConfig,type:"number",className:e.textField,variant:"outlined"}))}}]),t}(r.a.Component),st=Object(Fe.inject)("store")(Object(Fe.observer)(lt)),ct=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",flexFlow:"column"},margin:{margin:e.spacing.unit},textField:{flexBasis:200,margin:e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:120}}})(st),ut=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.dataStore=this.props.store.store,r.a.createElement("form",{className:""},r.a.createElement(at.a,{label:"Lower Value",value:this.dataStore.faultStores.gbn.low_value,onChange:this.dataStore.faultStores.gbn.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"low_value"}),r.a.createElement(at.a,{label:"Upper Value",value:this.dataStore.faultStores.gbn.upp_value,onChange:this.dataStore.faultStores.gbn.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"upp_value"}),r.a.createElement(at.a,{label:"Probability change",value:this.dataStore.faultStores.gbn.prob_change,onChange:this.dataStore.faultStores.gbn.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"prob_change"}),r.a.createElement(at.a,{label:"Min. constant",value:this.dataStore.faultStores.gbn.min_constant,onChange:this.dataStore.faultStores.gbn.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"min_constant"}))}}]),t}(r.a.Component),dt=Object(Fe.inject)("store")(Object(Fe.observer)(ut)),pt=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",flexFlow:"column"},margin:{margin:e.spacing.unit},textField:{flexBasis:200,margin:e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:120}}})(dt),mt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.dataStore=this.props.store.store,r.a.createElement("form",{className:""},r.a.createElement(at.a,{label:"Starting Value",value:this.dataStore.faultStores.randomWalk.start_val,onChange:this.dataStore.faultStores.randomWalk.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"start_val"}),r.a.createElement(at.a,{label:"Probability Down",value:this.dataStore.faultStores.randomWalk.prob_down,onChange:this.dataStore.faultStores.randomWalk.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"prob_down"}),r.a.createElement(at.a,{label:"Probability Up",value:this.dataStore.faultStores.randomWalk.prob_up,onChange:this.dataStore.faultStores.randomWalk.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"prob_up"}),r.a.createElement(at.a,{label:"Amplitude",value:this.dataStore.faultStores.randomWalk.amplitude,onChange:this.dataStore.faultStores.randomWalk.handleModifyValue,type:"number",className:e.textField,variant:"outlined",name:"amplitude"}))}}]),t}(r.a.Component),ht=Object(Fe.inject)("store")(Object(Fe.observer)(mt)),gt=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",flexFlow:"column"},margin:{margin:e.spacing.unit},textField:{flexBasis:200,margin:e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:120}}})(ht),ft=[{value:"constant",label:"Constant"},{value:"gbn",label:"GBN"},{value:"randomwalk",label:"Random Walk"},{value:"ramp",label:"Ramp (to do)"},{value:"senoidal",label:"Senoidal (to do)"}],bt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={labelWidth:0,age:""},a.handleChange=function(e){a.setState({age:e.target.value})},a.addFormAfterTypeSelection=function(){switch(a.dataStore.faultType.toLowerCase()){case"constant":return r.a.createElement(ct,null);case"gbn":return r.a.createElement(pt,null);case"randomwalk":return r.a.createElement(gt,null)}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:o.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.dataStore=this.props.store.store,r.a.createElement("div",null,r.a.createElement(et.a,{variant:"outlined",className:t.formControl},r.a.createElement(et.b,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-simple"},"Fault Type"),r.a.createElement(et.f,{value:this.dataStore.faultType,onChange:this.dataStore.handleFaultTypeSelection,input:r.a.createElement(et.d,{labelWidth:this.state.labelWidth,name:"falttype",id:"outlined-age-simple"})},ft.map(function(e){return r.a.createElement(et.c,{value:e.value,key:e.value},e.label)}))),this.addFormAfterTypeSelection())}}]),t}(r.a.Component),vt=Object(Fe.inject)("store")(Object(Fe.observer)(bt)),yt=Object(f.withStyles)(function(e){return{margin:{margin:e.spacing.unit},textField:{flexBasis:200,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:300}}})(vt),Ct=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(rt.a,{control:r.a.createElement(ot.a,{checked:e.checkedSelection,onChange:e.handleCheckedSelection,color:"primary"}),label:"Select Region in Chart to Add Fault"}),r.a.createElement("div",null,r.a.createElement(at.a,{id:"outlined-helperText",label:"Lower Bound",className:t.textField,value:e.lowBound,onChange:e.handleLowBound,margin:"normal",variant:"outlined"}),r.a.createElement(at.a,{id:"outlined-helperText",label:"Upper Bound",value:e.uppBound,onChange:e.handleUppBound,className:t.textField,margin:"normal",variant:"outlined"})),r.a.createElement(yt,null))}}]),t}(n.Component),St=Object(Fe.inject)("store")(Object(Fe.observer)(Ct)),Et=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",flexDirection:"column"},content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},margin:{margin:e.spacing.unit},textField:{flexBasis:200,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:120}}})(St),wt=a(222),kt=a.n(wt);var jt=Object(Fe.inject)("store")(Object(Fe.observer)(function(e){return r.a.createElement(kt.a,{onRelayout:e.handleReLayout,data:[{y:e.serie.values,type:"scatter",mode:"lines+markers",marker:{color:"black",symbol:"circle-open",size:12}}],layout:{width:700,title:e.serie.tag},config:{displaylogo:!1,showLink:!1,modeBarButtonsToRemove:["sendDataToCloud"]}})})),xt=a(69),Ot=a.n(xt),Bt=function(e){window.history.back()};var _t=Object(Fe.inject)("store")(Object(Fe.observer)(function(e){var t=e.classes,a=e.handleOkButton,n=e.handleBackButton?e.handleBackButton:Bt,i=e.confirmLabel?e.confirmLabel:"Ok",o=e.backLabel?e.backLabel:"Back";return r.a.createElement("div",{className:t.wrapButtons},r.a.createElement(Ot.a,{variant:"contained",color:"primary",className:t.button,onClick:a},i),r.a.createElement(Ot.a,{variant:"contained",color:"secondary",className:t.button,onClick:n},o))})),Nt=Object(f.withStyles)(function(e){return{wrapButtons:{display:"flex",justifyContent:"space-evenly"},button:{width:100}}})(_t),Pt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkedSelection:!0,lowBound:0,uppBound:0,faultConfig:{value:0},faultType:"constant"},a.handleReLayout=function(e){if(!("xaxis.autorange"in e&&"yaxis.autorange"in e)&&a.state.checkedSelection){var t=Math.floor(e["xaxis.range[0]"]),n=Math.floor(e["xaxis.range[1]"]);a.setState({lowBound:t,uppBound:n})}},a.handleCheckedSelection=function(e){a.setState({checkedSelection:e.target.checked})},a.handleLowBound=function(e){var t=e.target.value;a.setState({lowBound:t})},a.handleUppBound=function(e){var t=e.target.value;a.setState(function(){return{uppBound:t}})},a.handleBackBut=function(e){window.history.back()},a.handleTypeSelection=function(e){a.setState({faultType:e.target.value})},a.handleEdit=function(e,t,n){n.handleEditFaultWithBounds(t,{lowBound:a.state.lowBound,uppBound:a.state.uppBound})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.store,a=this.props.store.router.params,n=parseInt(a.id),i=this.props.store.store.series.filter(function(e){return e.id===n})[0],o=this.props.classes;return r.a.createElement("div",{className:o.root},r.a.createElement(et.e,{className:o.paper},r.a.createElement("div",{className:o.wrapMain},r.a.createElement(jt,{serie:i,handleReLayout:this.handleReLayout}),r.a.createElement(Et,{checkedSelection:this.state.checkedSelection,handleCheckedSelection:this.handleCheckedSelection,lowBound:this.state.lowBound,handleLowBound:this.handleLowBound,uppBound:this.state.uppBound,handleUppBound:this.handleUppBound,handleTypeSelection:this.handleTypeSelection})),r.a.createElement(Nt,{handleOkButton:function(a){return e.handleEdit(a,n,t)},confirmLabel:"Edit",handleBackButton:this.handleBackBut})))}}]),t}(n.Component),Ft=Object(Fe.inject)("store")(Object(Fe.observer)(Pt)),Tt=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},wrapPaper:{},paper:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},wrapMain:{},wrapButtons:{display:"flex",justifyContent:"space-evenly"},margin:{margin:e.spacing.unit},button:{width:100},textField:{flexBasis:200}}})(Ft),Rt=a(70),Wt=a.n(Rt);var Mt=Object(f.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},paper:{display:"flex",flexWrap:"wrap",padding:3*e.spacing.unit,height:"90vh",overflow:"auto"},card:{flexBasis:800,margin:2*e.spacing.unit}}})(function(e){var t=e.classes,a=e.store.store.series;return r.a.createElement("div",{className:t.root},r.a.createElement(Wt.a,{className:t.paper},a.map(function(e){return r.a.createElement(Wt.a,{className:t.card,key:e.id},r.a.createElement(jt,{serie:e}))})))}),At=Object(Fe.inject)("store")(Object(Fe.observer)(Mt));var Dt=Object(Fe.inject)("store")(Object(Fe.observer)(function(e){var t=e.classes,a=e.store.store;return r.a.createElement("div",{className:""},r.a.createElement(et.g,{label:"Noise Standard Deviation",className:t.textField,value:a.noiseStd,onChange:a.handleNoiseAddition,margin:"normal",variant:"outlined"}))})),Lt=Object(f.withStyles)(function(e){return{input:{margin:e.spacing.unit},textField:{flexBasis:200,marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(Dt);var It=Object(Fe.inject)("store")(Object(Fe.observer)(function(e){var t=e.classes,a=e.store.router,n=e.store.store;return r.a.createElement(et.e,{className:t.paper},r.a.createElement(B.a,{variant:"h6",id:"createTitle"},"Create a new Signal"),r.a.createElement(et.g,{label:"Number of Points",className:t.textField,type:"number",value:n.numberPointsCreation,onChange:n.handleNumberPointsCreation,margin:"normal",variant:"outlined"}),r.a.createElement(et.g,{label:"Tag",className:t.textField,value:n.tagCreation,onChange:n.handleTagCreation,margin:"normal",variant:"outlined"}),r.a.createElement(yt,null),r.a.createElement(Lt,null),r.a.createElement(Nt,{handleOkButton:n.handleSignalCreation,confirmLabel:"Create",handleBackButton:function(e){a.goTo(Ut.home)}}))})),Vt=Object(f.withStyles)(function(e){return{root:{padding:2*e.spacing.unit},paper:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing.unit},textField:{flexBasis:200,marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(It),Ut={home:new me.Route({path:"/",component:r.a.createElement(Ze,null)}),visualize:new me.Route({path:"/visualize",component:r.a.createElement(At,null),onEnter:function(){},beforeExit:function(){},onParamsChange:function(e,t,a){}}),series:new me.Route({path:"/series/:id",component:r.a.createElement(Tt,null),onEnter:function(e,t){}}),create:new me.Route({path:"/create",component:r.a.createElement(Vt,null)})},zt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={open:!0,openNested:!1,fakeState:!1},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleNestedClick=function(){a.setState(function(e){return{openNested:!e.openNested}})},a.showSnackBar=function(e,t){return r.a.createElement(G,{open:e.open_snack_bar,message:e.message,handleClose:t,loading:e.loading})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.store.store.signal_generating_status;return r.a.createElement("div",{className:e.root},r.a.createElement(v.a,null),r.a.createElement(E.a,{position:"absolute",className:g()(e.appBar,this.state.open&&e.appBarShift)},r.a.createElement(k.a,{disableGutters:!this.state.open,className:e.toolbar},r.a.createElement(F.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:g()(e.menuButton,this.state.open&&e.menuButtonHidden)},r.a.createElement(R.a,null)),r.a.createElement(B.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Fake Fault Builder"),r.a.createElement("img",{src:H.a,alt:"Logo",className:e.mylogo}))),r.a.createElement(C.a,{variant:"permanent",classes:{paper:g()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(F.a,{onClick:this.handleDrawerClose},r.a.createElement(M.a,null))),r.a.createElement(N.a,null),r.a.createElement(x.a,null,function(e,t,a,n){return r.a.createElement("div",null,r.a.createElement(J.a,{button:!0,onClick:function(){return n.goTo(Ut.home)}},r.a.createElement($.a,null,r.a.createElement(ee.a,null)),r.a.createElement(Q.a,{primary:"Data Series"})),r.a.createElement(J.a,{button:!0,onClick:t},r.a.createElement($.a,null,r.a.createElement(pe.a,null)),r.a.createElement(Q.a,{inset:!0,primary:"New Series"}),a?r.a.createElement(re.a,null):r.a.createElement(oe.a,null)),r.a.createElement(ue.a,{in:a,timeout:"auto",unmountOnExit:!0},r.a.createElement(x.a,{component:"div",disablePadding:!0},r.a.createElement(J.a,{button:!0,className:e.nested,onClick:function(){return n.goTo(Ut.create)}},r.a.createElement($.a,null,r.a.createElement(se.a,null)),r.a.createElement(Q.a,{inset:!0,primary:"Generate"})))),r.a.createElement(J.a,{button:!0,onClick:function(){return n.goTo(Ut.visualize)}},r.a.createElement($.a,null,r.a.createElement(ae.a,null)),r.a.createElement(Q.a,{primary:"Visualize All"})))}(e,this.handleNestedClick,this.state.openNested,this.props.store.router))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(me.MobxRouter,null),this.showSnackBar(t,this.props.store.store.handleCloseSnackBar)))}}]),t}(r.a.Component),Gt=Object(Fe.inject)("store")(Object(Fe.observer)(zt)),qt=Object(f.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit},nested:{paddingLeft:4*e.spacing.unit},mylogo:{width:"80px"}}})(Gt),Ht=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(qt,null)}}]),t}(n.Component),Yt=Object(Fe.inject)("store")(Object(Fe.observer)(Ht));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Jt=a(72),Xt=a(6);function $t(e){return e>1e3||0!==e&&e<.001?e.toExponential(4):e.toFixed(4)}function Kt(e){return Math.max.apply(Math,Object(Jt.a)(e.map(function(e){return e.id})))}var Qt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};Array.prototype.subarray=function(e,t){for(var a=this,n=[],r=0;e<=t;e++,r++)!function(e){Object.defineProperty(n,r,{get:function(){return a[e]},set:function(t){return a[e]=t,t}})}(e);return n};var Zt=a(231),ea=a.n(Zt),ta="https://us-central1-cm-signal-generator.cloudfunctions.net/signal_gen_http",aa=function(e,t){return Object(Jt.a)(new Array(e)).map(function(){return Math.random()*t})},na=[{tag:"tag1",values:aa(50,10),id:1,faultAdded:!1},{tag:"tag2",values:aa(50,3),id:2,faultAdded:!1},{tag:"tag3",values:aa(50,1),id:3,faultAdded:!1}],ra=function e(){var t=this;Object(l.a)(this,e),this.low_value=-1,this.upp_value=10,this.prob_change=.95,this.min_constant=5,this.handleModifyValue=function(e){var a;a="min_constant"===e.target.name?parseInt(e.target.value):parseFloat(e.target.value),t[e.target.name]=a}};Object(Xt.decorate)(ra,{low_value:Xt.observable,upp_value:Xt.observable,prob_change:Xt.observable,min_constant:Xt.observable,handleModifyValue:Xt.action});var ia=function e(){var t=this;Object(l.a)(this,e),this.start_val=-1,this.prob_down=.2,this.prob_up=.7,this.amplitude=5,this.handleModifyValue=function(e){var a=parseFloat(e.target.value);t[e.target.name]=a}};Object(Xt.decorate)(ia,{start_val:Xt.observable,prob_down:Xt.observable,prob_up:Xt.observable,amplitude:Xt.observable,handleModifyValue:Xt.action});var oa=function(){function e(){var t=this;Object(l.a)(this,e),this.series=na,this.appendImportedSeries=!1,this.faultType="",this.faultConfig={value:0},this.numberPointsCreation=50,this.tagCreation="",this.noiseStd=0,this.currFaultConfig={},this.faultStores={gbn:new ra,randomWalk:new ia},this.signal_generating_status={open_snack_bar:!1,loading:!1,message:""},this.importSeriesFromFile=function(e){var a=function(e){for(var t=e.split(/\r\n|\n/),a=t[0].split(","),n=t.slice(1),r=Array(a.length),i=(n=n.filter(function(e){return""!==e.trim()})).map(function(e){var t=e.split(",");return t.length!==a.length?(console.log("Error, data format not supported"),-1):t=t.map(function(e){return parseFloat(e)})}),o=function(e){var t=i.map(function(t){return t[e]});r[e]={tag:a[e],values:t,id:e,faultAdded:!1}},l=0;l<r.length;l++)o(l);return r}(e.currentTarget.result);if(t.appendImportedSeries){var n=t.series[t.series.length-1].id,r=a.map(function(e,t){var a=e;return a.id=n+t+1,a});t.series=t.series.concat(r)}else t.series=a},this.handleAppendImportedSeries=function(e){t.appendImportedSeries=e.target.checked},this.handleDeleteTableClick=function(e){e.forEach(function(e){var a=t.series.findIndex(function(t){return t.id===e});t.series.splice(a,1)})},this.handleEditFaultWithBounds=function(e,a){var n,r=t.series.findIndex(function(t){return t.id===e}),i=a.uppBound-a.lowBound+1;switch(t.signal_generating_status.open_snack_bar=!0,t.signal_generating_status.loading=!0,t.signal_generating_status.message="Creating signal type: "+t.faultType,t.faultType){case"constant":n=function(e){var t=e.serie,a=e.faultConfig,n=e.bounds,r=a.value;return t.values.map(function(e,t){return t>=n.lowBound&&t<=n.uppBound?r:e})}({serie:t.series[r],faultConfig:t.faultConfig,bounds:a}),t.series[r].values=n,t.afterCreationSnackBarUpdate();break;case"gbn":t.handleGBNCreation(i,function(e){return t.cbSignalCreatedToEditFault(e,r,a)},console.log);break;case"randomwalk":t.handleRandomWalkCreation(i,function(e){return t.cbSignalCreatedToEditFault(e,r,a)},console.log)}t.series[r].faultAdded="Yes"},this.handleFaultTypeSelection=function(e){t.faultType=e.target.value},this.handleFaultConfig=function(e){t.faultConfig=e},this.handleSignalCreation=function(){var e;switch(t.validateNumberOfPoints(),t.signal_generating_status.open_snack_bar=!0,t.signal_generating_status.loading=!0,t.signal_generating_status.message="Creating signal type: "+t.faultType,t.faultType.toLowerCase()){case"constant":e=function(e){for(var t=e.faultConfig,a=e.numPoints,n=t.value,r=Array(a),i=0;i<r.length;i++)r[i]=n;return r}({faultConfig:t.faultConfig,numPoints:t.numberPointsCreation}),t.addNoise(e);var a=t.createNewSerieObject(e);t.series.push(a),t.afterCreationSnackBarUpdate();break;case"gbn":e=t.handleGBNCreation(t.numberPointsCreation,t.cbSignalCreated,console.log);break;case"randomwalk":e=t.handleRandomWalkCreation(t.numberPointsCreation,t.cbSignalCreated,console.log)}},this.validateNumberOfPoints=function(){t.numberPointsCreation=parseInt(t.numberPointsCreation),Number.isInteger(t.numberPointsCreation)||(t.numberPointsCreation=50)},this.addNoise=function(e){var a=parseFloat(t.noiseStd);a>0&&e.forEach(function(e,t,n){return n[t]=n[t]+a*function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()})},this.createNewSerieObject=function(e){""===t.tagCreation.trim()&&(t.tagCreation="tag-".concat(Kt(t.series)+1));var a={tag:t.tagCreation,values:e,id:Kt(t.series)+1,faultAdded:!1};return t.tagCreation="tag-".concat(a.id+1),a},this.handleNumberPointsCreation=function(e){t.numberPointsCreation=e.target.value},this.handleTagCreation=function(e){t.tagCreation=e.target.value},this.handleNoiseAddition=function(e){t.noiseStd=e.target.value},this.cbSignalCreatedToEditFault=function(e,a,n){var r=e.map(function(e){return e[0]}),i=t.series[a],o=i.values.map(function(e,t){return t>=n.lowBound&&t<=n.uppBound?r[t-n.lowBound]:e});i.faultAdded="Yes",i.values=o,t.afterCreationSnackBarUpdate()},this.apiRPCComm=function(e,t,a,n){var r=ta;ea.a.post(r,{jsonrpc:"2.0",method:e,params:t,id:Qt()}).then(function(e){a(e.data)}).catch(function(e){n(e)})},this.handleGBNCreation=function(e,a,n){var r={tspan:Array(e).fill(0).map(function(e,t){return t}),type_serie:"gbn",params:{low_value:[t.faultStores.gbn.low_value],upp_value:[t.faultStores.gbn.upp_value],prob_change:[t.faultStores.gbn.prob_change],min_constant:[t.faultStores.gbn.min_constant]}};t.apiRPCComm("Signal.create_signal",r,a,n)},this.cbSignalCreated=function(e){var a=e.map(function(e){return e[0]});t.addNoise(a);var n=t.createNewSerieObject(a);t.series.push(n),t.afterCreationSnackBarUpdate()},this.handleRandomWalkCreation=function(e,a,n){var r={tspan:Array(e).fill(0).map(function(e,t){return t}),type_serie:"random_walk",params:{start_val:[t.faultStores.randomWalk.start_val],prob_down:[t.faultStores.randomWalk.prob_down],prob_up:[t.faultStores.randomWalk.prob_up],amplitude:[t.faultStores.randomWalk.amplitude]}};t.apiRPCComm("Signal.create_signal",r,a,n)},this.handleCloseSnackBar=function(e,a){"clickaway"!==a&&(t.signal_generating_status.open_snack_bar=!1)},Object(Xt.autorun)(function(){return console.log("AutoRun called")})}return Object(s.a)(e,[{key:"afterCreationSnackBarUpdate",value:function(){this.signal_generating_status.open_snack_bar=!1,this.signal_generating_status.open_snack_bar=!0,this.signal_generating_status.loading=!1,this.signal_generating_status.message="Signal Created!"}},{key:"formattedTableData",get:function(){return this.series.map(function(e){return{id:(t=e).id,name:t.tag,fault:t.faultAdded,min:$t(Math.min.apply(Math,Object(Jt.a)(t.values))),max:$t(Math.max.apply(Math,Object(Jt.a)(t.values))),size:t.values.length};var t})}}]),e}();Object(Xt.decorate)(oa,{series:Xt.observable,author:Xt.observable,handleEditBut:Xt.action,importDataFromFile:Xt.action,formattedTableData:Xt.computed,faultType:Xt.observable,faultConfig:Xt.observable,handleFaultTypeSelection:Xt.action,handleFaultConfig:Xt.action,numberPointsCreation:Xt.observable,tagCreation:Xt.observable,handleNumberPointsCreation:Xt.action,handleTagCreation:Xt.action,noiseStd:Xt.observable,handleNoiseAddition:Xt.action,currFaultConfig:Xt.observable,signal_generating_status:Xt.observable});var la=new oa,sa=la;window.dataStore=la,window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0;var ca={router:new me.RouterStore,store:sa};Object(me.startRouter)(Ut,ca),o.a.render(r.a.createElement(Fe.Provider,{store:ca},r.a.createElement(Yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[284,2,1]]]);
//# sourceMappingURL=main.e84eebfd.chunk.js.map